<!DOCTYPE html>
<html>
<head>
<style>
	#info {
		position: absolute;
		top: 10px; width: 100%;
		
		padding: 5px;
		text-align: center;
		font-size: 20px;
		color: #FFE4CA	
	} 
	body {
		overflow: hidden
  }
</style>
</head>

<body>
<div id='info'> Homework 1 <br>
<button id='toggle' style="width:20%"> Toggle Turn </button>
</div>

<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js"></script>-->
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<script>

//javascript:(function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='https://mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);})()

var renderer, scene, camera;
var controls, cube;
var angle = 0;  // initialization IMPORTANT!
var clock;
var turn = true;

$('#toggle').click(function() {
	turn = !turn;
});

init();
animate();

function init () {
	
	
	renderer = new THREE.WebGLRenderer();
	document.body.appendChild (renderer.domElement);
	var width = window.innerWidth;
	var height = window.innerHeight;
	renderer.setSize (width, height);
	
	renderer.setClearColor (0x888888);
	
	scene = new THREE.Scene();
	var grid = new THREE.GridHelper(20,20, 0xaaaa00, 0x333333);
	//scene.add (grid);
	var axes = new THREE.AxisHelper (5);
	//scene.add (axes);
	
	camera = new THREE.PerspectiveCamera (35, width/height, 1, 100);
	camera.position.y = 0;
	camera.position.z = 40;
	camera.lookAt (new THREE.Vector3(0,0,0));
	
	controls = new THREE.OrbitControls(camera, renderer.domElement);
	
	window.addEventListener('resize', onWindowResize, false);
	///////////////////////////////////////////////////////////////
	var cubeGeometry = new THREE.BoxGeometry (0.5,7,2);
	var cubeMaterial = new THREE.MeshBasicMaterial({color:'#D26900'});
	cube = new THREE.Mesh (cubeGeometry, cubeMaterial);
	scene.add (cube);
	
	var clockBackground = new THREE.Mesh (new THREE.CircleGeometry(10, 30), new THREE.MeshBasicMaterial({color:'#FFE4CA'}));
	scene.add (clockBackground);
	clock = new THREE.Clock();
	clock.getDelta(); //first call
	
	//setTimeout (turnSixDegs, 0); //give function name
}

function onWindowResize() {
  
	var width = window.innerWidth;
	var height = window.innerHeight;
	camera.aspect = width / height;
	camera.updateProjectionMatrix();
	renderer.setSize(width, height);
	
}

function turnSixDegs(){
	angle += 6/180*Math.PI;
	setTimeout (turnSixDegs, 1000);
}

function animate() {
	
	//angle += 0.01;
	var dt = clock.getDelta();
	
	if(turn)
		angle += 2*Math.PI*dt/60;
	
	cube.position.set (5*Math.sin(angle), 5*Math.cos(angle), 0);
	cube.rotation.z = -angle;
	controls.update();
	requestAnimationFrame(animate);
	render();
	
}

function render() {
	
	renderer.render(scene, camera);
	
}

</script>
</body>

</html>